<div
  id="scroll-to-top"
  class="fixed bottom-6 right-6 p-3 rounded-full shadow-lg cursor-pointer transition-all duration-300 z-50 opacity-0 transform translate-y-4
         group perspective-1000"
  aria-label="Scroll to top"
>
  <div
    class="relative transform transition-all duration-700 
           group-hover:rotate-y-6 group-hover:rotate-x-3 
           rounded-full"
  >
    
    <div
      class="absolute inset-0 bg-gradient-to-r from-primary to-accent rounded-full blur-md opacity-0 group-hover:opacity-100 transition duration-1000 group-hover:duration-200"
    >
    </div>

    <div 
      class="relative p-3 bg-primary text-app-bg rounded-full 
             transition-transform duration-300 hover:scale-105"
    >
        <svg
          class="w-6 h-6 transition-colors duration-300"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 10l7-7m0 0l7 7m-7-7v18"
          ></path>
        </svg>
    </div>
  </div>
</div>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const scrollToTopButton = document.getElementById("scroll-to-top");
    const scrollThreshold = 300; 

    const toggleVisibility = () => {
      if (window.scrollY > scrollThreshold) {
        // إظهار الزر
        scrollToTopButton.classList.remove("opacity-0", "translate-y-4");
        scrollToTopButton.classList.add("opacity-100", "translate-y-0");
      } else {
        // إخفاء الزر
        scrollToTopButton.classList.remove("opacity-100", "translate-y-0");
        scrollToTopButton.classList.add("opacity-0", "translate-y-4");
      }
    };

    const scrollToTop = () => {
      window.scrollTo({
        top: 0,
        behavior: "smooth", // يجعل الحركة سلسة
      });
    };

    window.addEventListener("scroll", toggleVisibility);
    scrollToTopButton.addEventListener("click", scrollToTop);
    toggleVisibility();
  });
</script>

<style>
  .perspective-1000 {
    perspective: 1000px;
  }
</style>